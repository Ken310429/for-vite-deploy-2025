import{c as e,d as t,e as n,f as r,g as i,h as a,k as o,l as s,m as c,p as l,r as u,u as d,v as f,y as p}from"./index-CVEL0MvJ.js";const m=[`onClick`],h={class:`d-flex w-100 justify-content-between`},g={class:`mb-1`},_={class:`mb-1`},v={__name:`OrderList`,props:{product:Object},emits:[`addItem`],setup(e,{emit:t}){let i=e,s=t,c=e=>{s(`addItem`,e)};return(e,t)=>(l(!0),o(r,null,u(i.product,e=>(l(),o(`div`,{key:e.id,class:`list-group`},[a(`a`,{href:`#`,onClick:n(t=>c(e),[`prevent`]),class:`list-group-item list-group-item-action`},[a(`div`,h,[a(`h5`,g,p(e.name),1),a(`small`,null,`$`+p(e.price),1)]),a(`p`,_,p(e.description),1)],8,m)]))),128))}};var y=v;const b={class:`table`},x=[`onClick`],S=[`onUpdate:modelValue`],C=[`value`],w={__name:`ShoppingCart`,props:{cartItems:Object,itemCount:Array,PorductPrice:Function},emits:[`deleteItem`],setup(t,{emit:n}){let i=t,s=n,c=e=>{s(`deleteItem`,e)};return(n,s)=>(l(),o(`table`,b,[s[0]||=a(`thead`,null,[a(`tr`,null,[a(`th`,{scope:`col`,width:`50`},`操作`),a(`th`,{scope:`col`},`品項`),a(`th`,{scope:`col`},`描述`),a(`th`,{scope:`col`,width:`90`},`數量`),a(`th`,{scope:`col`},`單價`),a(`th`,{scope:`col`},`小計`)])],-1),(l(!0),o(r,null,u(i.cartItems,n=>(l(),o(`tbody`,{key:n.id},[a(`tr`,null,[a(`td`,null,[a(`button`,{type:`button`,onClick:e=>c(n),class:`btn btn-sm`},`x`,8,x)]),a(`td`,null,p(n.name),1),a(`td`,null,[a(`small`,null,p(n.description),1)]),a(`td`,null,[d(a(`select`,{"onUpdate:modelValue":e=>n.count=e,class:`form-select`},[(l(!0),o(r,null,u(i.itemCount,e=>(l(),o(`option`,{key:e,value:e},p(e),9,C))),128))],8,S),[[e,n.count]])]),a(`td`,null,p(n.price),1),a(`td`,null,p(t.PorductPrice(n)),1)])]))),128))]))}};var T=w;const E={class:`card`},D={class:`card-body`},O={class:`card-title`},k={class:`table`},A={class:`text-end`},j={class:`text-end`},M={__name:`OrderCard`,props:{order:Array,OrderTotalPrice:Number,PorductPrice:Function},setup(e){let t=e;return(n,i)=>(l(),o(`div`,E,[a(`div`,D,[a(`div`,O,[i[3]||=a(`h5`,null,`訂單`,-1),a(`table`,k,[i[0]||=a(`thead`,null,[a(`tr`,null,[a(`th`,{scope:`col`},`品項`),a(`th`,{scope:`col`},`數量`),a(`th`,{scope:`col`},`小計`)])],-1),(l(!0),o(r,null,u(t.order,t=>(l(),o(`tbody`,{key:t.id},[a(`tr`,null,[a(`td`,null,p(t.name),1),a(`td`,null,p(t.count),1),a(`td`,null,p(e.PorductPrice(t)),1)])]))),128))]),a(`div`,A,[i[1]||=s(`備註: `,-1),a(`span`,null,p(n.note),1)]),a(`div`,j,[a(`h5`,null,[i[2]||=s(`總計: `,-1),a(`span`,null,`$`+p(e.OrderTotalPrice),1)])])])])]))}};var N=M;const P={id:`root`},F={class:`container mt-5`},I={class:`row`},L={class:`col-md-4`},R={class:`col-md-8`},z={class:`text-end mb-3`},B={class:`row justify-content-center`},V={class:`col-8`},H={__name:`Week3View`,setup(e){let n=[{id:1,name:`珍珠奶茶`,description:`香濃奶茶搭配QQ珍珠`,price:50},{id:2,name:`冬瓜檸檬`,description:`清新冬瓜配上新鮮檸檬`,price:45},{id:3,name:`翡翠檸檬`,description:`綠茶與檸檬的完美結合`,price:55},{id:4,name:`四季春茶`,description:`香醇四季春茶，回甘無比`,price:45},{id:5,name:`阿薩姆奶茶`,description:`阿薩姆紅茶搭配香醇鮮奶`,price:50},{id:6,name:`檸檬冰茶`,description:`檸檬與冰茶的清新組合`,price:45},{id:7,name:`芒果綠茶`,description:`芒果與綠茶的獨特風味`,price:55},{id:8,name:`抹茶拿鐵`,description:`抹茶與鮮奶的絕配`,price:60}],r=Array.from({length:10},(e,t)=>t+1),u=f(r),m=f(n),h=f([]),g=f([]),_=f(``),v=e=>{let t=h.value.find(t=>t.id===e.id);t?t.count++:h.value.push({...e,count:1})},b=e=>e.price*e.count,x=i(()=>h.value.reduce((e,t)=>e+t.price*t.count,0)),S=i(()=>g.value.reduce((e,t)=>e+t.price*t.count,0)),C=e=>{let t=h.value.indexOf(e);h.value.splice(t,1)},w=()=>{g.value=[...h.value],h.value=[]};return(e,n)=>(l(),o(`div`,P,[a(`div`,F,[a(`div`,I,[a(`div`,L,[c(y,{product:m.value,onAddItem:v},null,8,[`product`])]),a(`div`,R,[c(T,{cartItems:h.value,itemCount:u.value,onDeleteItem:C,PorductPrice:b},null,8,[`cartItems`,`itemCount`]),a(`div`,z,[a(`h5`,null,[n[1]||=s(`總計: `,-1),a(`span`,null,`$`+p(x.value),1)])]),d(a(`textarea`,{class:`form-control mb-3`,rows:`3`,placeholder:`備註`,"onUpdate:modelValue":n[0]||=e=>_.value=e},null,512),[[t,_.value]]),a(`div`,{class:`text-end`},[a(`button`,{class:`btn btn-primary`,onClick:w},`送出`)])])]),n[2]||=a(`hr`,null,null,-1),a(`div`,B,[a(`div`,V,[c(N,{order:g.value,OrderTotalPrice:S.value,PorductPrice:b},null,8,[`order`,`OrderTotalPrice`])])])])]))}};var U=H;export{U as default};