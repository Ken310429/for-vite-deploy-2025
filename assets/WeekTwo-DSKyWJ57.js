import{b as e}from"./axios-CnU1K9ZG.js";import{b as t,d as n,f as r,g as i,h as a,i as o,j as s,k as c,l,o as u,q as d,r as f,s as p,t as m,u as h}from"./index-CF1unE_t.js";const g={id:`loginPage`,class:`bg-yellow`},_={class:`conatiner loginPage vhContainer`},v={class:`formControls`,action:`index.html`},y={key:0},b={id:`signUpPage`,class:`bg-yellow`},x={class:`conatiner signUpPage vhContainer`},S={class:`formControls`,action:`index.html`},C=[`disabled`],w=`https://todolist-api.hexschool.io/`,T={__name:`WeekTwo`,setup(T){let E=t(),D=m({email:``,password:``,nickname:``}),O=m(``),k=m(``),A=i(()=>D.value.password===O.value&&D.value.password.length>0),j=i(()=>A.value&&D.value.nickname&&D.value.email),M=async()=>{try{let t=await e.post(`${w}users/sign_up`,D.value);k.value=t.data.uid,t.data.status&&(alert(`註冊成功！`),window.location.hash=`#loginPage`)}catch(e){console.log(e)}},N=m({email:``,password:``}),P=m(``),F=i(()=>N.value.email.length>0),I=async()=>{try{let t=await e.post(`${w}users/sign_in`,N.value);t.data.token&&(P.value=t.data.token,document.cookie=`customTodoToken=${t.data.token};path=/`,E.push(`/todo`))}catch(e){console.log(e)}};return(e,t)=>{let i=d(`Message`);return u(),c(r,null,[a(`div`,g,[a(`div`,_,[t[10]||=a(`div`,{class:`side`},[a(`a`,{href:`#`},[a(`img`,{class:`logoImg`,src:`https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png`,alt:``})]),a(`img`,{class:`d-m-n`,src:`https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png`,alt:`workImg`})],-1),a(`div`,null,[a(`form`,v,[t[6]||=a(`h2`,{class:`formControls_txt`},`最實用的線上代辦事項服務`,-1),t[7]||=a(`label`,{class:`formControls_label`,for:`email`},`Email`,-1),p(a(`input`,{class:`formControls_input`,"onUpdate:modelValue":t[0]||=e=>N.value.email=e,type:`text`,id:`email`,name:`email`,placeholder:`請輸入 email`,required:``},null,512),[[n,N.value.email]]),F.value?s(``,!0):(u(),c(`span`,y,`此欄位不可留空`)),t[8]||=a(`label`,{class:`formControls_label`,for:`pwd`},`密碼`,-1),p(a(`input`,{class:`formControls_input`,"onUpdate:modelValue":t[1]||=e=>N.value.password=e,type:`password`,name:`pwd`,id:`pwd`,placeholder:`請輸入密碼`,required:``},null,512),[[n,N.value.password]]),a(`input`,{class:`formControls_btnSubmit`,type:`button`,onClick:I,value:`登入`}),t[9]||=a(`a`,{class:`formControls_btnLink`,href:`#signUpPage`},`註冊帳號`,-1)])])])]),a(`div`,b,[a(`div`,x,[t[18]||=a(`div`,{class:`side`},[a(`a`,{href:`#`},[a(`img`,{class:`logoImg`,src:`https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png`,alt:``})]),a(`img`,{class:`d-m-n`,src:`https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png`,alt:`workImg`})],-1),a(`div`,null,[a(`form`,S,[t[12]||=a(`h2`,{class:`formControls_txt`},`註冊帳號`,-1),t[13]||=a(`label`,{class:`formControls_label`,for:`email`},`Email`,-1),p(a(`input`,{class:`formControls_input`,"onUpdate:modelValue":t[2]||=e=>D.value.email=e,type:`text`,id:`email`,name:`email`,placeholder:`請輸入 email`,required:``},null,512),[[n,D.value.email]]),t[14]||=a(`label`,{class:`formControls_label`,for:`name`},`您的暱稱`,-1),p(a(`input`,{class:`formControls_input`,"onUpdate:modelValue":t[3]||=e=>D.value.nickname=e,type:`text`,name:`name`,id:`name`,placeholder:`請輸入您的暱稱`},null,512),[[n,D.value.nickname]]),t[15]||=a(`label`,{class:`formControls_label`,for:`pwd`},`密碼`,-1),p(a(`input`,{class:`formControls_input`,"onUpdate:modelValue":t[4]||=e=>D.value.password=e,type:`password`,name:`pwd`,id:`pwd`,placeholder:`請輸入密碼`,required:``},null,512),[[n,D.value.password]]),t[16]||=a(`label`,{class:`formControls_label`,for:`confirmpwd`},`再次輸入密碼`,-1),p(a(`input`,{class:`formControls_input`,"onUpdate:modelValue":t[5]||=e=>O.value=e,type:`password`,name:`pwd`,id:`confirmpwd`,placeholder:`請再次輸入密碼`,required:``},null,512),[[n,O.value]]),A.value?s(``,!0):(u(),o(i,{key:0,severity:`error`,variant:`simple`,size:`small`},{default:f(()=>t[11]||=[l(`密碼不相同`,-1)]),_:1,__:[11]})),a(`input`,{disabled:!j.value,class:h([`formControls_btnSubmit`,{disabled:!j.value}]),type:`button`,onClick:M,value:`註冊帳號`},null,10,C),t[17]||=a(`a`,{class:`formControls_btnLink`,href:`#loginPage`},`登入`,-1)])])])])],64)}}};var E=T;export{E as default};